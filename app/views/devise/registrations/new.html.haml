.wrapper__form

  = render "layouts/sub-header"

  .form__container
    %h2.form__container--title 新規会員登録
    = form_for(@user, url: user_registration_path) do |f|
      = render "devise/shared/error_messages", resource: @user
      .field
        = f.label :nickname, "ニックネーム"
        %span.required__item 必須
        = f.text_field :nickname, autofocus: true, class: "text__field", autocomplete: "nickname"
      .field
        = f.label :email, "メールアドレス"
        %span.required__item 必須
        = f.email_field :email, class: "text__field", autocomplete: "email"
      .field
        = f.label :password, "パスワード"
        %span.required__item 必須
        = f.password_field :password, autocomplete: "new-password", placeholder: "７文字以上の半角英数字", class: "text__field"
        %p.input__info ※ 英字と数字の両方を含めて設定してください
      .field
        = f.label :password_confirmation, "パスワード(確認用)"
        %span.required__item 必須
        = f.password_field :password_confirmation, autocomplete: "new-password", class: "text__field"
      .field
        = f.label :"お名前(全角)"
        %span.required__item 必須
        = f.text_field :last_name, placeholder: "例) 鈴木", class: "text__field--half"
        = f.text_field :first_name, placeholder: "例) 一郎", class: "text__field--half"
      .field
        = f.label :"お名前カナ(全角)"
        %span.required__item 必須
        = f.text_field :last_name_kana, placeholder: "例) スズキ", class: "text__field--half"
        = f.text_field :first_name_kana, placeholder: "例) イチロー", class: "text__field--half"
      .field
        = f.label :birthday, "生年月日"
        %span.required__item 必須
        = raw sprintf(f.date_select(:birthday, with_css_classes: "XXXXX", prompt: "--", use_month_numbers: true, start_year: Time.now.year, end_year: 1920, date_separator: "%s"), "年", "月") + "日"
      .field
        = f.label :height, "身長"
        %span.required__item 必須
        = f.number_field :height, placeholder: "例) 168", min: 100, max: 200, class: "text__field--half"
      .field
        = f.label :body_weight, "体重"
        %span.required__item 必須
        = f.number_field :body_weight, placeholder: "例) 60", min: 20, max: 150, class: "text__field--half"
      .field
        = f.label :foot_size, "体重"
        %span.required__item 必須
        = f.select :foot_size, User.foot_sizes.keys.map {|k| [k, k]}, {}, { class: "text__field--half", data: {} }
      .field
        = f.label :avatar, "アバター"
        = f.file_field :avatar
      .field
        = f.label :introduction, "プロフィール"
        = f.text_area :introduction, class: "text__field--wide"

      = f.fields_for :address do |a| 
        .field
          = a.label :postal_code, "郵便番号"
          %span.required__item 必須
          = a.text_field :postal_code, placeholder: "例）123-4567", class: "text__field"
        .field
          = a.label :prefecture, "都道府県"
          %span.required__item 必須
          = a.select :prefecture, Address.prefectures.keys, {}, {class: "text__field--half"}
        .field
          = a.label :city, "市町村"
          %span.required__item 必須
          = a.text_field :city, placeholder: "例）札幌市", class: "text__field--half"
        .field
          = a.label :address, "番地"
          %span.required__item 必須
          = a.text_field :address, placeholder: "例）青葉1-1-1", class: "text__field--half"
        .field
          = a.label :apartment, "建物名"
          = a.text_field :apartment, placeholder: "例）柳ビル103", class: "text__field--half"
        .field
          = a.label :phone_number, "電話番号(半角数字、ハイフン「-」なしで入力してください)"
          %span.required__item 必須
          = a.telephone_field :phone_number, placeholder: "例）03-1234-5678", class: "text__field--half"
      = f.fields_for :credit_card do |c|
        .field
          = c.label :card_number, "カード番号"
          %span.required__item 必須
          = c.text_field :card_number, placeholder: "半角数字のみ", class: "text__field", maxlength:"16"
        .field
          = c.label :card_company, "カード会社"
          %span.required__item 必須
          = c.select :card_company, CreditCard.card_companies.keys, {}, {class: "text__field--half"}
          -# %ul.signup__card--list
          -#   %li.icon--visa
          -#     = image_tag("visa.svg", id:"icon--visa")
          -#   %li.icon--master
          -#     = image_tag("master-card.svg", id:"icon--master")
          -#   %li.icon--saison
          -#     = image_tag("saison-card.svg", id:"icon--saison")
          -#   %li.icon--jcb
          -#     = image_tag("jcb.svg", id:"icon--jcb")
          -#   %li.icon--americanexpress
          -#     = image_tag("american_express.svg", id:"icon--americanexpress")
          -#   %li.icon--diners
          -#     = image_tag("dinersclub.svg", id:"icon--diners")
          -#   %li.icon--discover
          -#     = image_tag("discover.svg", id:"icon--discover")
        .field
          = c.label :有効期限
          %span.required__item 必須
          = c.select :card_month, options_for_select(["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"]), {}, {class: "text__field--half"}
          = c.label :月, class: "card__year-and-month"
          = c.select :card_year, options_for_select((2020..2030)), {}, {class: "text__field--half"}
          = c.label :年, class: "card__year-and-month"
        .field
          = c.label :card_pass, "セキュリティコード"
          %span.required__item 必須
          = c.text_field :card_pass, placeholder: "カード背面4桁もしくは3桁の番号", class: "text__field--half"

      .actions
        = f.submit "会員登録する"
= render "devise/shared/links"
